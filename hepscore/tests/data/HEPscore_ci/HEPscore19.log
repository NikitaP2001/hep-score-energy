
[bmk-driver.sh] Parse input arguments '-d -t 1 -e 3 -c 2'


========================================================================
[bmk-driver.sh] entering common benchmark driver
Fri Sep 27 11:56:14 CEST 2019
========================================================================

[bmk-driver.sh] entering from atlas-kv-bmk.sh

[bmk-driver.sh] benchmark directory BMKDIR=/bmk/atlas-kv:

/bmk/atlas-kv:
total 40
-rw-r--r--. 1 root root   281 Sep 19 18:12 version.json
drwxr-xr-x. 2 root root     6 Sep 19 18:12 data
-rw-rw-rw-. 1 root root   442 Sep 19 18:03 DESCRIPTION
-rwxrwxrwx. 1 root root  2094 Sep 19 18:03 atlas-kv-bmk.sh
-rw-rw-rw-. 1 root root 15933 Sep 19 18:03 bmk-driver.sh
drwxrwxrwx. 3 root root    34 Sep 19 18:03 jobs
-rw-rw-rw-. 1 root root  2684 Sep 19 18:03 parseResults.sh
-rw-rw-rw-. 1 root root   614 Sep 19 18:03 preInclude.SingleMuonGenerator.py
drwxrwxrwx. 2 root root    38 Sep 19 18:03 sqlite200
-rwxrwxrwx. 1 root root    70 Sep 19 18:03 test_parser.sh

/bmk/atlas-kv/data:
total 0

/bmk/atlas-kv/jobs:
total 0
drwxrwxrwx. 3 root root 183 Sep 19 18:03 good_1
lrwxrwxrwx. 1 root root   6 Sep 19 18:03 refjob -> good_1

/bmk/atlas-kv/jobs/good_1:
total 1112
-rw-rw-rw-. 1 root root     479 Sep 19 18:03 atlas-kv_summary.json
-rw-rw-rw-. 1 root root    1615 Sep 19 18:03 cishortlog.txt
-rw-rw-rw-. 1 root root 1118158 Sep 19 18:03 cvmfs-atlas.cern.ch.spec.txt
-rw-rw-rw-. 1 root root      40 Sep 19 18:03 inputs.log
-rw-rw-rw-. 1 root root      67 Sep 19 18:03 joburl.txt
drwxrwxrwx. 2 root root      72 Sep 19 18:03 proc_1
lrwxrwxrwx. 1 root root      21 Sep 19 18:03 summary.json -> atlas-kv_summary.json
-rw-rw-rw-. 1 root root     281 Sep 19 18:03 version.json

/bmk/atlas-kv/jobs/good_1/proc_1:
total 1076
-rw-rw-rw-. 1 root root 527940 Sep 19 18:03 AtlasG4_trf.log
-rw-rw-rw-. 1 root root    670 Sep 19 18:03 doOneWrapper_1.log
-rw-rw-rw-. 1 root root 565437 Sep 19 18:03 out_1.log

/bmk/atlas-kv/sqlite200:
total 496
-rw-rw-rw-. 1 root root 501760 Sep 19 18:03 ALLP200.db
-rw-rw-rw-. 1 root root     57 Sep 19 18:03 README

[bmk-driver.sh] data directory /bmk/atlas-kv/../data:

/bmk/atlas-kv/../data:
total 0

Default (from atlas-kv-bmk.sh): NCOPIES=4
Default (from atlas-kv-bmk.sh): NTHREADS=1
Default (from atlas-kv-bmk.sh): NEVENTS_THREAD=100

Default (from bmk-driver.sh): USER_NCOPIES=2
Default (from bmk-driver.sh): USER_NTHREADS=1
Default (from bmk-driver.sh): USER_NEVENTS_THREAD=3

Default (from bmk-driver.sh): resultsDir=/results
Default (from bmk-driver.sh): skipSubDir=0
Default (from bmk-driver.sh): DEBUG=1
[bmk-driver.sh] load parseResults.sh (function 'parseResults' is not defined in atlas-kv-bmk.sh)
[bmk-driver.sh] sourcing /bmk/atlas-kv/parseResults.sh


Current value: USER_NCOPIES=2
Current value: USER_NTHREADS=1
Current value: USER_NEVENTS_THREAD=3

Current value: resultsDir=/results
Current value: skipSubDir=0
Current value: DEBUG=1

[bmk-driver.sh] function 'validateInputArguments' not found: use input arguments as given

[bmk-driver.sh] base working directory : /results/atlas-kv-c2-e3-1569578174_1046

Current value: NCOPIES=2
Current value: NTHREADS=1
Current value: NEVENTS_THREAD=3

[bmk-driver.sh] APP=atlas-kv

------------------------------------------------------------------------
[bmk-driver.sh] spawn 2 processes
------------------------------------------------------------------------


[doOneWrapper (1)] Fri Sep 27 11:56:14 CEST 2019 : process 1 started
[doOneWrapper (1)] working directory : /results/atlas-kv-c2-e3-1569578174_1046/proc_1
[doOneWrapper (1)] log : /results/atlas-kv-c2-e3-1569578174_1046/proc_1/doOneWrapper_1.log
[doOneWrapper (1)] HOME=/results/atlas-kv-c2-e3-1569578174_1046/proc_1/HOME
[doOneWrapper (1)] Fri Sep 27 11:56:14 CEST 2019 : process 1 configured
[doOneWrapper (1)] current process pid is 35

[doOneWrapper (1)] Fri Sep 27 11:56:14 CEST 2019 : inside docker - run doOne as bmkuser

[doOneWrapper (2)] Fri Sep 27 11:56:15 CEST 2019 : process 2 started
[doOneWrapper (2)] working directory : /results/atlas-kv-c2-e3-1569578174_1046/proc_2
[doOneWrapper (2)] log : /results/atlas-kv-c2-e3-1569578174_1046/proc_2/doOneWrapper_2.log
[doOneWrapper (2)] HOME=/results/atlas-kv-c2-e3-1569578174_1046/proc_2/HOME
[doOneWrapper (2)] Fri Sep 27 11:56:15 CEST 2019 : process 2 configured
[doOneWrapper (2)] current process pid is 65

[doOneWrapper (2)] Fri Sep 27 11:56:15 CEST 2019 : inside docker - run doOne as bmkuser

[bmk-driver.sh] pids of spawned processes: 35 65


[bmk-driver.sh] ... waiting for spawned process pid=35

[doOne (1)] Fri Sep 27 11:56:15 CEST 2019 starting in /results/atlas-kv-c2-e3-1569578174_1046/proc_1
[doOne (2)] Fri Sep 27 11:56:15 CEST 2019 starting in /results/atlas-kv-c2-e3-1569578174_1046/proc_2
AtlasSetup(WARNING): ATLAS_POOLCOND_PATH directory [/cvmfs/atlas.cern.ch/repo/conditions] doesn't exist
Using AtlasProduction/17.8.0.9 [cmt] with platform x86_64-slc6-gcc47-opt
	at /cvmfs/atlas.cern.ch/repo/sw/software/x86_64-slc6-gcc47-opt/17.8.0
AtlasSetup(WARNING): ATLAS_POOLCOND_PATH directory [/cvmfs/atlas.cern.ch/repo/conditions] doesn't exist
Using AtlasProduction/17.8.0.9 [cmt] with platform x86_64-slc6-gcc47-opt
	at /cvmfs/atlas.cern.ch/repo/sw/software/x86_64-slc6-gcc47-opt/17.8.0
[doOne (2)] Fri Sep 27 11:58:47 CEST 2019 completed (status=0)

[doOneWrapper (2)] Fri Sep 27 11:58:47 CEST 2019 : process 2 completed ok

[doOne (1)] Fri Sep 27 11:58:47 CEST 2019 completed (status=0)

[doOneWrapper (1)] Fri Sep 27 11:58:47 CEST 2019 : process 1 completed ok


[bmk-driver.sh] ... waiting for spawned process pid=65


------------------------------------------------------------------------
[bmk-driver.sh] all 2 processes completed successfully
------------------------------------------------------------------------

[bmk-driver.sh] parse results and generate summary: starting
[bmk-driver.sh] current directory : /results/atlas-kv-c2-e3-1569578174_1046

[parseResults] parse results and generate summary (previous status: 0)
[parseResults] current directory: /results/atlas-kv-c2-e3-1569578174_1046
[parseResults] parsing results from proc_1/out_1.log proc_2/out_2.log

[parseResults] generate json summary
{"copies":2 , "threads_per_copy":1 , "events_per_thread" : 3 , "wl-scores": {"sim": 2.2321} , "wl-stats": {"score": 2.2321, "avg": 1.1161, "median": 1.1161, "min": 1.1161, "max": 1.1161} , "app":{"version":"ci1.1","description":"ATLAS KV: GEANT4 simulation of 100 single muon events, based on Athena version v17.8.0.9","cvmfs_checksum":"0de27e9c8ccb8d9bf5a191943a19ca2f","bmkdata_checksum":"199a9d5cb218c303eafd74076bb7a3c0","bmk_checksum":"03fc2656453a4033702712d41f07a3f7"}}

[bmk-driver.sh] parse results and generate summary: completed (status=0)

[bmk-driver.sh] json file validation: starting
[bmk-driver.sh] lint json file syntax using jq
{"app":{"bmk_checksum":"03fc2656453a4033702712d41f07a3f7","bmkdata_checksum":"199a9d5cb218c303eafd74076bb7a3c0","cvmfs_checksum":"0de27e9c8ccb8d9bf5a191943a19ca2f","description":"ATLAS KV: GEANT4 simulation of 100 single muon events, based on Athena version v17.8.0.9","version":"ci1.1"},"wl-stats":{"max":1.1161,"min":1.1161,"median":1.1161,"avg":1.1161,"score":2.2321},"wl-scores":{"sim":2.2321},"events_per_thread":3,"threads_per_copy":1,"copies":2}
[bmk-driver.sh] json file validation: completed (status=0)

[bmk-driver.sh] exiting back to atlas-kv-bmk.sh

========================================================================
[bmk-driver.sh] exiting common benchmark driver (status=0)
Fri Sep 27 11:58:47 CEST 2019
========================================================================


[bmk-driver.sh] Parse input arguments '-d -t 1 -e 3 -c 2'


========================================================================
[bmk-driver.sh] entering common benchmark driver
Fri Sep 27 11:58:50 CEST 2019
========================================================================

[bmk-driver.sh] entering from atlas-kv-bmk.sh

[bmk-driver.sh] benchmark directory BMKDIR=/bmk/atlas-kv:

/bmk/atlas-kv:
total 40
-rw-r--r--. 1 root root   281 Sep 19 18:12 version.json
drwxr-xr-x. 2 root root     6 Sep 19 18:12 data
-rw-rw-rw-. 1 root root   442 Sep 19 18:03 DESCRIPTION
-rwxrwxrwx. 1 root root  2094 Sep 19 18:03 atlas-kv-bmk.sh
-rw-rw-rw-. 1 root root 15933 Sep 19 18:03 bmk-driver.sh
drwxrwxrwx. 3 root root    34 Sep 19 18:03 jobs
-rw-rw-rw-. 1 root root  2684 Sep 19 18:03 parseResults.sh
-rw-rw-rw-. 1 root root   614 Sep 19 18:03 preInclude.SingleMuonGenerator.py
drwxrwxrwx. 2 root root    38 Sep 19 18:03 sqlite200
-rwxrwxrwx. 1 root root    70 Sep 19 18:03 test_parser.sh

/bmk/atlas-kv/data:
total 0

/bmk/atlas-kv/jobs:
total 0
drwxrwxrwx. 3 root root 183 Sep 19 18:03 good_1
lrwxrwxrwx. 1 root root   6 Sep 19 18:03 refjob -> good_1

/bmk/atlas-kv/jobs/good_1:
total 1112
-rw-rw-rw-. 1 root root     479 Sep 19 18:03 atlas-kv_summary.json
-rw-rw-rw-. 1 root root    1615 Sep 19 18:03 cishortlog.txt
-rw-rw-rw-. 1 root root 1118158 Sep 19 18:03 cvmfs-atlas.cern.ch.spec.txt
-rw-rw-rw-. 1 root root      40 Sep 19 18:03 inputs.log
-rw-rw-rw-. 1 root root      67 Sep 19 18:03 joburl.txt
drwxrwxrwx. 2 root root      72 Sep 19 18:03 proc_1
lrwxrwxrwx. 1 root root      21 Sep 19 18:03 summary.json -> atlas-kv_summary.json
-rw-rw-rw-. 1 root root     281 Sep 19 18:03 version.json

/bmk/atlas-kv/jobs/good_1/proc_1:
total 1076
-rw-rw-rw-. 1 root root 527940 Sep 19 18:03 AtlasG4_trf.log
-rw-rw-rw-. 1 root root    670 Sep 19 18:03 doOneWrapper_1.log
-rw-rw-rw-. 1 root root 565437 Sep 19 18:03 out_1.log

/bmk/atlas-kv/sqlite200:
total 496
-rw-rw-rw-. 1 root root 501760 Sep 19 18:03 ALLP200.db
-rw-rw-rw-. 1 root root     57 Sep 19 18:03 README

[bmk-driver.sh] data directory /bmk/atlas-kv/../data:

/bmk/atlas-kv/../data:
total 0

Default (from atlas-kv-bmk.sh): NCOPIES=4
Default (from atlas-kv-bmk.sh): NTHREADS=1
Default (from atlas-kv-bmk.sh): NEVENTS_THREAD=100

Default (from bmk-driver.sh): USER_NCOPIES=2
Default (from bmk-driver.sh): USER_NTHREADS=1
Default (from bmk-driver.sh): USER_NEVENTS_THREAD=3

Default (from bmk-driver.sh): resultsDir=/results
Default (from bmk-driver.sh): skipSubDir=0
Default (from bmk-driver.sh): DEBUG=1
[bmk-driver.sh] load parseResults.sh (function 'parseResults' is not defined in atlas-kv-bmk.sh)
[bmk-driver.sh] sourcing /bmk/atlas-kv/parseResults.sh


Current value: USER_NCOPIES=2
Current value: USER_NTHREADS=1
Current value: USER_NEVENTS_THREAD=3

Current value: resultsDir=/results
Current value: skipSubDir=0
Current value: DEBUG=1

[bmk-driver.sh] function 'validateInputArguments' not found: use input arguments as given

[bmk-driver.sh] base working directory : /results/atlas-kv-c2-e3-1569578330_8598

Current value: NCOPIES=2
Current value: NTHREADS=1
Current value: NEVENTS_THREAD=3

[bmk-driver.sh] APP=atlas-kv

------------------------------------------------------------------------
[bmk-driver.sh] spawn 2 processes
------------------------------------------------------------------------


[doOneWrapper (1)] Fri Sep 27 11:58:50 CEST 2019 : process 1 started
[doOneWrapper (1)] working directory : /results/atlas-kv-c2-e3-1569578330_8598/proc_1
[doOneWrapper (1)] log : /results/atlas-kv-c2-e3-1569578330_8598/proc_1/doOneWrapper_1.log
[doOneWrapper (1)] HOME=/results/atlas-kv-c2-e3-1569578330_8598/proc_1/HOME
[doOneWrapper (1)] Fri Sep 27 11:58:50 CEST 2019 : process 1 configured
[doOneWrapper (1)] current process pid is 35

[doOneWrapper (1)] Fri Sep 27 11:58:50 CEST 2019 : inside docker - run doOne as bmkuser
[doOne (1)] Fri Sep 27 11:58:50 CEST 2019 starting in /results/atlas-kv-c2-e3-1569578330_8598/proc_1

[doOneWrapper (2)] Fri Sep 27 11:58:50 CEST 2019 : process 2 started
[doOneWrapper (2)] working directory : /results/atlas-kv-c2-e3-1569578330_8598/proc_2
[doOneWrapper (2)] log : /results/atlas-kv-c2-e3-1569578330_8598/proc_2/doOneWrapper_2.log
[doOneWrapper (2)] HOME=/results/atlas-kv-c2-e3-1569578330_8598/proc_2/HOME
[doOneWrapper (2)] Fri Sep 27 11:58:50 CEST 2019 : process 2 configured
[doOneWrapper (2)] current process pid is 127

[doOneWrapper (2)] Fri Sep 27 11:58:50 CEST 2019 : inside docker - run doOne as bmkuser
[doOne (2)] Fri Sep 27 11:58:50 CEST 2019 starting in /results/atlas-kv-c2-e3-1569578330_8598/proc_2

[bmk-driver.sh] pids of spawned processes: 35 127


[bmk-driver.sh] ... waiting for spawned process pid=35

AtlasSetup(WARNING): ATLAS_POOLCOND_PATH directory [/cvmfs/atlas.cern.ch/repo/conditions] doesn't exist
Using AtlasProduction/17.8.0.9 [cmt] with platform x86_64-slc6-gcc47-opt
	at /cvmfs/atlas.cern.ch/repo/sw/software/x86_64-slc6-gcc47-opt/17.8.0
AtlasSetup(WARNING): ATLAS_POOLCOND_PATH directory [/cvmfs/atlas.cern.ch/repo/conditions] doesn't exist
Using AtlasProduction/17.8.0.9 [cmt] with platform x86_64-slc6-gcc47-opt
	at /cvmfs/atlas.cern.ch/repo/sw/software/x86_64-slc6-gcc47-opt/17.8.0
[doOne (2)] Fri Sep 27 12:01:00 CEST 2019 completed (status=0)

[doOneWrapper (2)] Fri Sep 27 12:01:00 CEST 2019 : process 2 completed ok

[doOne (1)] Fri Sep 27 12:01:01 CEST 2019 completed (status=0)

[doOneWrapper (1)] Fri Sep 27 12:01:01 CEST 2019 : process 1 completed ok


[bmk-driver.sh] ... waiting for spawned process pid=127


------------------------------------------------------------------------
[bmk-driver.sh] all 2 processes completed successfully
------------------------------------------------------------------------

[bmk-driver.sh] parse results and generate summary: starting
[bmk-driver.sh] current directory : /results/atlas-kv-c2-e3-1569578330_8598

[parseResults] parse results and generate summary (previous status: 0)
[parseResults] current directory: /results/atlas-kv-c2-e3-1569578330_8598
[parseResults] parsing results from proc_1/out_1.log proc_2/out_2.log

[parseResults] generate json summary
{"copies":2 , "threads_per_copy":1 , "events_per_thread" : 3 , "wl-scores": {"sim": 2.2321} , "wl-stats": {"score": 2.2321, "avg": 1.1161, "median": 1.1161, "min": 1.1161, "max": 1.1161} , "app":{"version":"ci1.1","description":"ATLAS KV: GEANT4 simulation of 100 single muon events, based on Athena version v17.8.0.9","cvmfs_checksum":"0de27e9c8ccb8d9bf5a191943a19ca2f","bmkdata_checksum":"199a9d5cb218c303eafd74076bb7a3c0","bmk_checksum":"03fc2656453a4033702712d41f07a3f7"}}

[bmk-driver.sh] parse results and generate summary: completed (status=0)

[bmk-driver.sh] json file validation: starting
[bmk-driver.sh] lint json file syntax using jq
{"app":{"bmk_checksum":"03fc2656453a4033702712d41f07a3f7","bmkdata_checksum":"199a9d5cb218c303eafd74076bb7a3c0","cvmfs_checksum":"0de27e9c8ccb8d9bf5a191943a19ca2f","description":"ATLAS KV: GEANT4 simulation of 100 single muon events, based on Athena version v17.8.0.9","version":"ci1.1"},"wl-stats":{"max":1.1161,"min":1.1161,"median":1.1161,"avg":1.1161,"score":2.2321},"wl-scores":{"sim":2.2321},"events_per_thread":3,"threads_per_copy":1,"copies":2}
[bmk-driver.sh] json file validation: completed (status=0)

[bmk-driver.sh] exiting back to atlas-kv-bmk.sh

========================================================================
[bmk-driver.sh] exiting common benchmark driver (status=0)
Fri Sep 27 12:01:01 CEST 2019
========================================================================

